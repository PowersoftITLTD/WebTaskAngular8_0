<p-sidebar [visible]="true" [modal]="false" [showCloseIcon]="false" styleClass="z-2">
  <ng-template pTemplate="headless">
    <div class="flex flex-column h-full">
      <div class="flex align-items-center justify-content-between px-2 pt-3 flex-shrink-0">
        <span class="inline-flex align-items-center gap-2">
          <span><img class="max-w-full" src="assets/logo.png" alt="logo" /></span>
        </span>
        <span> </span>
      </div>
      <div class="overflow-y-auto p-3">
        <ul class="list-none p-0 m-0">
          @for (item of menuItems; track item) {
            <li>
              <!-- Parent Menu Item -->
              @if (!item.children && item.hasAccess) {
                <a
                  pRipple
                  [routerLink]="item.routerLink"
                  routerLinkActive="active"
                  class="flex align-items-center cursor-pointer p-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple no-underline"
                >
                  <span class="text-sm mr-2">
                    <img [src]="item.icon" alt="" />
                  </span>
                  <span class="text-sm">{{ item.label }}</span>
                </a>
              }

              <!-- Parent with Submenu -->
              @if (item.children && item.hasAccess) {
                <div class="flex flex-column">
                  <a
                    pRipple
                    pStyleClass="@next"
                    enterClass="hidden"
                    enterActiveClass="slidedown"
                    leaveToClass="hidden"
                    leaveActiveClass="slideup"
                    class="flex align-items-center cursor-pointer p-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple"
                  >
                    <span class="text-sm mr-2">
                      <img [src]="item.icon" alt="" />
                    </span>
                    <span class="text-sm">{{ item.label }}</span>
                    <i class="pi pi-chevron-down ml-auto"></i>
                  </a>
                  <ul
                    class="list-none py-0 pl-3 pr-0 m-0 hidden overflow-y-hidden transition-all transition-duration-400 transition-ease-in-out"
                  >
                    @for (child of item.children; track child) {
                      @if (child.hasAccess) {
                        <li>
                          <a
                            pRipple
                            [routerLink]="child.routerLink"
                            routerLinkActive="active highlight"
                            class="flex align-items-center cursor-pointer p-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple no-underline"
                          >
                            <span class="text-sm">{{ child.label }}</span>
                          </a>
                        </li>
                      }
                    }
                  </ul>
                </div>
              }
            </li>
          }
        </ul>
      </div>
    </div>
  </ng-template>
</p-sidebar>
